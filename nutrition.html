<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Nutrition - HOMEFIT</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container-fluid">
    <div class="row">
      <!-- Sidebar -->
      <div class="col-auto">
        <div class="sidebar">
          <a href="profile.html" class="sidebar-item text-decoration-none text-dark">üë§</a>
          <a href="index.html" class="sidebar-item text-decoration-none text-dark">üè†</a>
          <a href="community.html" class="sidebar-item text-decoration-none text-dark">üåê</a>
          <a href="calendar.html" class="sidebar-item text-decoration-none text-dark">üìÖ</a>
          <a href="nutrition.html" class="sidebar-item text-decoration-none text-dark">üìã</a>
          <a href="help.html" class="sidebar-item question-mark text-decoration-none text-dark">‚ùì</a>
        </div>
      </div>

      <!-- Main Content -->
      <div class="col">
        <h1 class="my-4">Nutrition Tab</h1>

        <!-- Search Bar -->
        <div class="mb-4 position-relative">
          <input id="food-search" type="text" class="form-control" placeholder="Search for food items..." autocomplete="off" />
          <ul id="autocomplete-list" class="list-group position-absolute w-100" style="z-index: 1000;"></ul>
        </div>

        <!-- Content Layout -->
        <div class="row">
          <!-- Food Image -->
          <div class="col-md-6">
            <div class="nutrition-section bg-warning text-center p-4">
              <h5>Food Image</h5>
              <img id="food-image" src="" alt="Food Image" class="img-fluid mt-3 d-none">
              <p id="food-name" class="mt-2"></p>
            </div>
          </div>

          <!-- Calorie Tracker -->
          <div class="col-md-6">
            <div class="nutrition-section bg-info text-center p-4">
              <h5>Calorie Tracker</h5>
              <ul id="calorie-tracker" class="list-unstyled mt-3 d-none">
              </ul>
            </div>
          </div>
        </div>

        <!-- Food Information -->
        <div class="row mt-4">
          <div class="col">
            <div class="nutrition-section bg-primary text-center p-4">
              <h5>Food Information</h5>
              <p id="food-info" class="mt-3 d-none"></p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Premade food data
    const foodData = {
      "Grilled Chicken": {
        image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR_7mct1A792qL8zopviKQXLsZdtNxOf28HFw&s",
        calories: "350 kcal",
        proteins: "25g",
        carbohydrates: "20g",
        fats: "12g",
        info: "Grilled chicken is a healthy and high-protein meal option. It is versatile and pairs well with vegetables and grains."
      },
      "Salmon": {
        image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTNZEHTosAzPFRelmW1DMVrt_PqSMDPD8edDQ&s",
        calories: "400 kcal",
        proteins: "30g",
        carbohydrates: "0g",
        fats: "25g",
        info: "Salmon is a nutrient-dense food packed with omega-3 fatty acids, which are great for heart health."
      },
      "Broccoli": {
        image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR3ExfUkSLXLFZ-SnCxYxRBF3W9nIt-cbVpPQ&s",
        calories: "55 kcal",
        proteins: "5g",
        carbohydrates: "11g",
        fats: "0.5g",
        info: "Broccoli is a fiber-rich vegetable loaded with vitamins C and K. It's an excellent choice for healthy eating."
      }
    };

    const searchInput = document.getElementById("food-search");
    const autocompleteList = document.getElementById("autocomplete-list");

    // Update the page with selected food data
    function updateFoodInfo(food) {
      document.getElementById("food-image").src = food.image;
      document.getElementById("food-image").classList.remove("d-none");
      document.getElementById("food-name").textContent = food.name;
      document.getElementById("calorie-tracker").innerHTML = `
        <li>Calories: ${food.calories}</li>
        <li>Proteins: ${food.proteins}</li>
        <li>Carbohydrates: ${food.carbohydrates}</li>
        <li>Fats: ${food.fats}</li>
      `;
      document.getElementById("calorie-tracker").classList.remove("d-none");
      document.getElementById("food-info").textContent = food.info;
      document.getElementById("food-info").classList.remove("d-none");
    }

    // Clear the page content
    function clearPage() {
      document.getElementById("food-image").src = "";
      document.getElementById("food-image").classList.add("d-none");
      document.getElementById("food-name").textContent = "";
      document.getElementById("calorie-tracker").innerHTML = "";
      document.getElementById("calorie-tracker").classList.add("d-none");
      document.getElementById("food-info").textContent = "";
      document.getElementById("food-info").classList.add("d-none");
      autocompleteList.innerHTML = "";
    }

    // Handle autocomplete input
    searchInput.addEventListener("focus", () => {
      autocompleteList.innerHTML = "";
      const clearOption = document.createElement("li");
      clearOption.textContent = "Clear Page";
      clearOption.classList.add("list-group-item", "list-group-item-action", "text-danger");
      clearOption.addEventListener("click", clearPage);
      autocompleteList.appendChild(clearOption);

      Object.keys(foodData).forEach(foodName => {
        const listItem = document.createElement("li");
        listItem.textContent = foodName;
        listItem.classList.add("list-group-item", "list-group-item-action");
        listItem.addEventListener("click", () => {
          updateFoodInfo({ name: foodName, ...foodData[foodName] });
          searchInput.value = "";
          autocompleteList.innerHTML = "";
        });
        autocompleteList.appendChild(listItem);
      });
    });

    // Close autocomplete on outside click
    document.addEventListener("click", (e) => {
      if (e.target !== searchInput) {
        autocompleteList.innerHTML = "";
      }
    });
  </script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
